{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}
{% load gbtags %}
{% load compress %}

{% block head_script %}
    {{ block.super }}
    <!-- site_base.html: head_script -->

    {% compress js %}
        <script type="text/javascript"
                src="{% static 'js/HeadFinal.js' %}"></script>
    {% endcompress %}

    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
          integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

{% endblock %}

{% block page_style %}
    {{ block.super }}
    <!-- site_base.html: page_style -->

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css"
          integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy"
          crossorigin="anonymous">

{% endblock %}

{% block style_base %}
    {{ block.super }}
    <!-- site_base.html: style_base -->

    {% comment %}
    {% block google_fonts %}
        <link
        href='http://fonts.googleapis.com/css?family=BenchNine:300,400,700|Roboto+Slab:400,100,300,700'
        rel='stylesheet' type='text/css'>
    {% endblock google_fonts %}
    {% endcomment %}

    {% block typekit %}
        <script type="text/javascript" src="//use.typekit.net/den5ddu.js"></script>
        <script type="text/javascript">try {
          Typekit.load();
        } catch (e) {
        }</script>
    {% endblock typekit %}

    <link rel="stylesheet"
          href="{% static 'css/mint-choc/jquery-ui-1.10.3.custom.min.css' %}">
    <link rel="stylesheet"
          href="{% static 'css/style_base.css' %}">

    {% block extra_style %}
    {% endblock %}

{% endblock %}

{% block head_title %}
    {% trans "TennisBlock" %} - {% block title %}{% endblock %}
{% endblock %}

{% block wrapper_class %}wrapper{% endblock %}

{% block header_bar %}
    <div class="navbar_brand">
        <img id="header_logo"
             src="{% static 'images/assets/Racquet_and_balls2.png' %}"/>
        TennisBlock
    </div>
{% endblock %}

{% block header_bar_images %}
    <a class="brand navbar_brand" href="">
        <img id="header_logo"
             src="{% static 'images/assets/BestRacquet.png' %}"/>
        TennisRoster.com
    </a>
{% endblock header_bar_images %}

{% block header_bar_nav %}
    <nav class="navbar navbar-toggleable-sm navbar-inverse fixed-top bg-inverse">
     <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="#">TennisBlock</a>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
        {% if user.is_authenticated %}
            <!-- User Authenticated -->
            <li class="nav-item"><a class="nav-link" href="{% url 'schedule:schedule' %}">Schedule</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'availability' %}">Availability</a></li>
            {% comment %}
        <li><a href="{% url 'availability_form' %}">Availability Form</a></li>
        {% endcomment %}
            <li class="nav-item"><a class="nav-link" class="nav-link" class="nav-link" href="{% url 'members:player_list' %}">Players</a></li>
{#            <li class="nav-item"><a class="nav-link" class="nav-link" class="nav-link" href="{% url 'members:seasonplayers' %}">Block Members</a></li>#}
            <li class="nav-item"><a class="nav-link" class="nav-link" class="nav-link" href="{% url 'season:seasons' %}">Seasons</a></li>
            <li class="nav-item"><a class="nav-link" class="nav-link" class="nav-link" href="{% url 'about' %}">About</a></li>
            {% comment %}
        <li><a href="{{ request.user.profile.get_absolute_url }}">
            <i class="icon-briefcase"></i> {% trans "Profile" %}
        </a></li>
        {% endcomment %}
            {% if user.is_staff %}
                <li><a class="nav-link" class="nav-link" href="{% url THEME_ADMIN_URL|default:'admin:index' %}">
                    <i class="icon-cog">
                    </i>
                    {% trans "Admin" %}
                </a></li>
            {% endif %}
            <li class="nav-item"><a class="nav-link" id="account_logout" href="{% url 'logout' %}">
                <i class="icon-off"></i> {% trans "Log Out" %}
            </a></li>
        {% else %}
            <!-- User Not Authenticated -->
            <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'login' %}">{% trans "Sign In" %}</a></li>
        {% endif %}
        </ul>
        <!-- Don't need this form here..
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
        -->
      </div>

    </nav>
{% endblock header_bar_nav %}

{% block body_script %}
    {{ block.super }}
    <!-- site_base.html: body_script -->

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js"
            integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.core.min.js"></script>
    <script type="text/javascript"
            src="{% static 'js/library/amplify.core.min.js' %}"></script>

    {% compress js %}
        <script type="text/javascript" src="{% static 'js/Client.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/tennislib/TennisEnvironment.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/tennislib/tennisconstants.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/tennislib/TennisGui.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/tennislib/TennisUtils.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/tennislib/TennisMain.js' %}"></script>
    {% endcompress %}
{% endblock %}

{% block extra_script %}
    <!-- site_base.html: extra_script -->


    {% block angular_script %}
        <!-- Use angular_base.html to get angular setup -->
    {% endblock %}

    {% block tennisblock_script %}
        <!-- site_base.html: tennisblock_script -->
        <script type="text/javascript">
          GBBasePath = "/static/js/";
          GBStaticPath = "/static";
          AngularPartialsBase = '/static/partials';
        </script>

        <script type="text/javascript">
          django = {
            'username': "{{ user.username }}",
            'first': "{{ user.first_name }}",
            'last': "{{ user.last_name }}",
            'blockcaptain': "{{ perms.blockdb.change_sched }}"
          };

          console.log("Initialized username to " + django.username);
        </script>

    {% endblock %}


    {% if not debug %}
        <script>
          (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
              (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
              m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
          })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

          ga('create', 'UA-35101738-1', 'gardenbuzz.com');
          ga('send', 'pageview');

        </script>
    {% endif %}

{% endblock %}
