{% extends "common/base.html" %}
{% load staticfiles %}
{% load i18n %}
{% load url from future %}
{% load gbtags %}
{% load compress %}

{% block head_script %}
    {{ block.super }}
    <!-- site_base.html: head_script -->
    <script type="text/javascript"
            src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>

    <script type="text/javascript"
            src="{% static 'js/HeadFinal.js' %}"></script>

    <script type="text/javascript"
            src="{% static 'js/library/jquery-1.10.2.min.js' %}"></script>
    <script type="text/javascript"
            src="//netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/js/bootstrap.min.js"></script>

{% endblock %}

{% block page_style %}
    {{ block.super }}
    <!-- site_base.html: page_style -->

    <link rel="stylesheet"
          href="//netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="{% static 'css/mint-choc/jquery-ui-1.10.3.custom.min.css' %}">

    <link rel="stylesheet/less" type="text/less" href="{% static 'less/style_base.less' %}">
    <!-- site_base.html: page_style end -->

{% endblock %}

{% block style_base %}
    {{ block.super }}
    <!-- site_base.html: style_base -->
    <link rel="stylesheet" href="{% static 'css/normalize.css' %}">
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">

    {% comment %}
    {% block google_fonts %}
        <link
        href='http://fonts.googleapis.com/css?family=BenchNine:300,400,700|Roboto+Slab:400,100,300,700'
        rel='stylesheet' type='text/css'>
    {% endblock google_fonts %}
    {% endcomment %}

    {% block typekit %}
        <script type="text/javascript" src="//use.typekit.net/den5ddu.js"></script>
        <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    {% endblock typekit %}

    {% compress css %}
        <link rel="stylesheet/less" type="text/less"
              href="{% static 'less/style_base.less' %}">

        {% block extra_less %}
        {% endblock %}
    {% endcompress %}

    <link rel="stylesheet"
          href="{% static 'css/mint-choc/jquery-ui-1.10.3.custom.min.css' %}">
    <link rel="stylesheet"
          href="{% static 'css/highslide/highslide.css' %}">

    {% block extra_style %}
    {% endblock %}

{% endblock %}

{% block head_title %}
    {% trans "TennisBlock" %} - {% block title %}{% endblock %}
{% endblock %}

{% block wrapper_class %}wrapper{% endblock %}

{% block header_bar_images %}
    <img id="header_logo"
         src="{% static 'images/assets/header_logo.png' %}"/>
    <img id="header_title"
         src="{% static 'images/assets/gardenbuzz_title.png' %}"/>
{% endblock header_bar_images %}

{% block header_bar_nav %}
    <span class="title-text">Tennisblock.com</span>
    <nav class="nav header" id="header_bar_nav">
        <a href="{% url 'home' %}">HOME</a>
        {% if request.user.is_authenticated %}
            <a href="{{ request.user.profile.get_absolute_url }}">
                <i class="icon-briefcase"></i> {% trans "ACCOUNT" %}
            </a>
            {% if request.user.is_staff %}
                <a href="{% url THEME_ADMIN_URL|default:"admin:index" %}">
                    <i class="icon-cog"></i> {% trans "ADMIN" %}
                </a>
            {% endif %}
            <a id="account_logout" href="{% url "logout" %}">
                <i class="icon-off"></i> {% trans "LOG OUT" %}
            </a>
        {% else %}
            <a href="{% url "login" %}">{% trans "SIGN IN" %}
            </a>
        {% endif %}
    </nav>
{% endblock header_bar_nav %}

{% block page_header_top %}
    <h3>The Premier Site for</h3>
    <h2>Tennis Block Management!</h2>
{% endblock %}

{% block page_header_bottom %}
    <nav class="">
        <a href="#">Home</a>
        {% if user.is_authenticated %}
            <a class="" href="{% url 'schedule' %}">Block Schedule</a>
            <a href="{% url 'availability' %}">Availability</a>
            <a href="{% url 'seasonplayers' %}">Block Members</a>
            <a href="{% url 'seasons' %}">Seasons</a>
            {% if request.user.is_staff %}
                <a href="{% url THEME_ADMIN_URL|default:"admin:index" %}">
                    <i class="icon-cog"></i> {% trans "ADMIN" %}</a>
            {% endif %}
            <a href="{% url 'profile' %}">Profile</a>
            <a href="{% url 'logout' %}">Log out</a>
            <a href="{% url 'about' %}">ABOUT</a>
        {% else %}
            <a href="{% url 'login' %}">Login</a>
            <a href="{% url 'about' %}">ABOUT</a>
        {% endif %}
    </nav>
{% endblock page_header_bottom %}


{% block footer_base %}
    <!-- site_base.html: footer_base -->
    <div id="block_footer" class="col-lg-12">

        <ul class="">
            <li class="foottext"><a href="{% url 'contact' %}" class="first">Contact Us</a></li>
            <li class="foottext"><a href="{% url 'about' %}" >About Us</a></li>
            <li id="foot_facebook"
                class="icon"><a href="https://www.facebook.com/tennisblock"
                                target="_blank"><img src="/static/images/facebook/FB-f-Logo__blue_29.png"/></a></li>
            <li id="foot_twitter"
                class="icon">
                <a href="https://twitter.com/tennisblock"
                   target="_blank"><img src="/static/images/twitter-bird-light-bgs.png" height="30" width="30"/>
                </a>
            </li>
        </ul>

    </div>
{% endblock %}

{% block body_script %}
    {{ block.super }}
    <!-- site_base.html: body_script -->

    <script type="text/javascript"
            src="{% static 'js/library/jquery-1.10.2.min.js' %}"></script>
    <script type="text/javascript"
            src="{% static 'js/library/jquery-ui-1.10.3.custom.min.js' %}"></script>
    <script type="text/javascript"
            src="{% static 'js/library/underscore.js' %}"></script>
    <script type="text/javascript"
            src="{% static 'js/library/amplify.core.min.js' %}"></script>
    <script type="text/javascript"
            src="{% static 'js/library/jquery.download.js' %}"></script>
    <script type="text/javascript"
            src="{% static 'js/library/json2.js' %}"></script>

    <script type="text/javascript"
            src="{% static 'js/Client.js' %}"></script>
    <script type="text/javascript"
            src="{% static 'js/Load.js' %}"></script>
{% endblock %}

{% block extra_script %}
    <!-- site_base.html: extra_script -->


    <script src="{% static 'js/library/html5shiv.js' %}" type="text/javascript"></script>

    <script src="{% static 'js/library/jquery-1.10.2.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/library/jquery-ui-1.10.3.custom.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/library/underscore-min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/library/json2.js' %}" type="text/javascript"></script>

    <script src="{% static 'bootstrap/js/bootstrap.min.js' %}" type="text/javascript"></script>

    {% if use_less %}
    {% endif %}

    {% block angular_script %}
        <!-- site_base.html: angular_script -->
        <script type="text/javascript" src="{{ angular_base }}angular.min.js"></script>
        <script type="text/javascript" src="{{ angular_base }}angular-resource.min.js"></script>
        <script type="text/javascript" src="{{ angular_base }}angular-route.min.js"></script>
        <script type="text/javascript" src="{{ angular_base }}angular-cookies.min.js"></script>

        <script type="text/javascript" src="{% static 'js/angular/apps/tennisblock.js' %}"></script>

        <script type="text/javascript" src="{% static 'js/angular/services/factories.js' %}"> </script>
        <script type="text/javascript" src="{% static 'js/angular/services/services.js' %}"></script>
    {% endblock %}

    {% block tennisblock_script %}
        <!-- site_base.html: tennisblock_script -->
        <script type="text/javascript">
            GBBasePath = "/static/js/";
            GBStaticPath = "/static";
            AngularPartialsBase = '/static/partials';
        </script>

        <script type="text/javascript">
            django = {
                'username'  : "{{ user.username }}",
                'first'     : "{{ user.first_name }}",
                'last'      : "{{ user.last_name }}",
                'blockcaptain' : "{{ perms.blockdb.change_sched }}"
            };

            console.log("Initialized username to " + django.username);
        </script>

    {% endblock %}


    {% if not debug %}
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-35101738-1', 'gardenbuzz.com');
        ga('send', 'pageview');

    </script>
    {% endif %}

    <script type="text/javascript">
        console.log("I can add any scripts that need to be in EVERY page here.");
    </script>

{% endblock %}
